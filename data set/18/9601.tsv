2008-04-04T22:16:00.000Z	elventear		Hello. I have setup an Ubuntu server using RAID 1 on the main OS disk. Everything seems to be running fine, but now I want to test if I would be able to boot from one of the disks if the other disk failed and I haven't been able to do that. Is there something else I have to do, besides install grub on the MBR of the second disk?
2008-04-04T22:17:00.000Z	sipior	elventear	you mean you can't boot from the second disk, or you can't boot from either?
2008-04-04T22:18:00.000Z	elventear	sipior	I can't boot from the second disk. I remove the first disk. Start and boot and I am not able to boot. Initally I assumed Grub was missing from the the second disk. But by using a Grub boot disk I booted the Kernel and it froze at some point
2008-04-04T22:19:00.000Z	elventear	sipior	With the first disk installed, everything boots fine and RAID seems to be working fine
2008-04-04T22:19:00.000Z	sipior	elventear	probably you forgot to change the name of the root partition grub uses
2008-04-04T22:20:00.000Z	elventear	sipior	Root? When I remove a disk in grub the second disk becomes hd0
2008-04-04T22:21:00.000Z	sipior	elventear	yes, but grub identifies the root partition to the kernel using blkuid. it may not be getting the same id for your second drive. have a look at the kernel arguments grub passes
2008-04-04T22:22:00.000Z	elventear	sipior	The only argument for the kernel is root, you meant that? The arguments is an LVM partition /dev/mapper-system/root
2008-04-04T22:23:00.000Z	sipior	elventear	what is the exact root= argument that grub passes to the kernel?
2008-04-04T22:23:00.000Z	elventear	sipior	/vmlinuz-2.6.22-14-server root=/dev/mapper/system-root ro quiet splash
2008-04-04T22:26:00.000Z	sipior	elventear	hmm...the problem you describe sounds very much like a boot loader that can't find a kernel/root partition. you've verified that the drives are in fact perfectly mirrored?
2008-04-04T22:27:00.000Z	elventear	sipior	As fair as I can, yes, they are perfectly mirrored
2008-04-04T22:27:00.000Z	sipior	elventear	then i'm afraid i'm out of ideas, for the moment :-)
2008-04-04T22:28:00.000Z	sipior	elventear	could the device mapper not know about your second disk, by any chance?
2008-04-04T22:29:00.000Z	elventear	sipior	I doubt it. Everything is RAID1 in this drive and they are the same
2008-04-04T22:30:00.000Z	sipior	elventear	i'm afraid i don't understand the details of how that mapping is made at boot.
2008-04-04T22:34:00.000Z	sipior	elventear	is your motherboard bios configured to boot from both drives?
2008-04-23T22:40:00.000Z	sipior	elventear	that's a pretty good reason
