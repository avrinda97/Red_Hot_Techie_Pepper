2009-06-26T23:17:00.000Z	bc		dpkg just installed 2.6.28-13-generic, I rebooted, uname -r reports 2.6.28-11-generic, and there is no entry for 2.6.18-13 in grub's menu.lst. Any possible reasons why that is?
2009-06-26T23:18:00.000Z	bc		vmlinuz-2.6.28-13-generic does indeed exist in /boot as well
2009-06-26T23:19:00.000Z	dajhorn	bc	First run `sudo update-grub` at a prompt and check whether the menu.lst file is updated properly.
2009-06-26T23:19:00.000Z	bc	dajhorn	I've done that (dpkg did it as well), and I even checked to see if menu.lst was set to immutable
2009-06-26T23:20:00.000Z	dajhorn	bc	Second look at the /boot/grub/menu.lst file and check whether you've got a default kernel set.
2009-06-26T23:20:00.000Z	dajhorn	bc	Something like "default 3" or "savedefault" enabled.
2009-06-26T23:20:00.000Z	bc	dajhorn	yep, I do.
2009-06-26T23:21:00.000Z	dajhorn	bc	You'll need to guess whether it is correct for your system.  Default Ubuntu installations have "default 0" and savedefault disabled.
2009-06-26T23:22:00.000Z	bc	dajhorn	I guess I'm going to have to manually edit menu.list and add it in there. (it's default 0, and savedefault is disabled)
2009-06-26T23:22:00.000Z	dajhorn	bc	Third, Check whether the /etc/kernel-img.conf file has "postinst_hook = update-grub" and "postrm_hook = update-grub" enabled.
2009-06-26T23:22:00.000Z	dajhorn	bc	 The kernel-img.conf file determines whether new kernel packages are automatically enabled.
2009-06-26T23:23:00.000Z	bc	dajhorn	indeed, they are set exactly as you stated
2009-06-26T23:23:00.000Z	dajhorn	bc	Okay, you've got a strange problem.  Purge and reinstall the kernel package that isn't being listed properly.
2009-06-26T23:24:00.000Z	dajhorn	bc	If you are familiar with grub, then you can also push ESC at boot time and try to load that kernel manually.
2009-06-26T23:24:00.000Z	bc	dajhorn	I think I'm going to try the latter first. thanks for your help!
2009-06-26T23:24:00.000Z	dajhorn	bc	Np.
2009-06-26T23:28:00.000Z	bc	dajhorn	I had no idea about /etc/kernel-img.conf. Is that an Ubuntu thing, or does Debian also use it?
2009-06-26T23:29:00.000Z	dajhorn	bc	I don't remember.  Debian certainly has pre and post hooks, but it may be called something different.
