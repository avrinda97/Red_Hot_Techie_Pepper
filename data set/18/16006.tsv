2004-12-09T15:02:00.000Z	rapha		I want dhclient (or another DHCP client, for that matter) to assign an IP address and a gateway UP but NOT touch my resolv.conf. Problem is that the routers DNS server is broken, it always returns the first IP address it was asked for.
2004-12-09T15:03:00.000Z	rapha		local router.
2004-12-09T15:03:00.000Z	rapha		(local as in "in my LAN, under my control")
2004-12-09T15:05:00.000Z	rapha		The real problem is that when resolv.conf contains 10.0.0.1 as a name server, I can't use the internet properly. When it contains 141.1.1.1, it works.
2004-12-09T15:05:00.000Z	rapha		I KNOW it is the server, but the client makes the change to my resolv.conf in the end.
2004-12-09T15:07:00.000Z	rapha		Hey boy, I'm not stupid. My server doesn't have a setting for disabling the DNS server assignment over DHCP. Either you use DHCP and get it assigned or you don't and do not.
2004-12-09T15:07:00.000Z	melazyboy	rapha	... you can set it up so not to use the dns assignment from the dhcp server
2004-12-09T15:08:00.000Z	rapha	melazyboy	Exactly that's what I want to do, just how/where?
2004-12-09T15:09:00.000Z	melazyboy	rapha	Well the absolute easiest way to would be to modify resolf.conf in the short run, or edit your ifup
2004-12-09T15:10:00.000Z	rapha	melazyboy	EACH TIME I edit the resolv.conf, it OVERWRITES it. And I can't tell it NOT to do.
2004-12-09T15:11:00.000Z	rapha	melazyboy	But I'll try ifup.
2004-12-09T15:11:00.000Z	rapha	melazyboy	Dang, ifup is only used with PPP. I don't use PPP. So much about that.
2004-12-09T15:13:00.000Z	melazyboy	rapha	You could always change permissions on resolv.conf if you truly wanted to get it working without research im not sure how it would be done but thats an idea chmod it to 111
2004-12-09T15:14:00.000Z	rapha	melazyboy	chmod ugo-w didn't help any. It still overwrites it.
2004-12-09T15:17:00.000Z	melazyboy	rapha	After some tracking ibelieve dns-clean is responsible for setting resolv.conf in ubuntu
2004-12-09T15:17:00.000Z	melazyboy	rapha	move that outside of the /etc/init.d directory and restart see if it works
2004-12-09T15:20:00.000Z	rapha	melazyboy	seems you were right. Thanks a heap!
2004-12-09T15:20:00.000Z	melazyboy	rapha	=D **bows**
