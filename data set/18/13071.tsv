2007-02-18T15:58:00.000Z	Okita		By convention, does everything installed via apt-get go into /usr/share ?
2007-02-18T15:58:00.000Z	LjL	Okita	of course not.
2007-02-18T15:58:00.000Z	LjL	Okita	it mostly goes to various places inside /usr (not exclusively anyway), but that also includes /usr/bin, /usr/lib...
2007-02-18T15:59:00.000Z	LjL	Okita	 dpkg -L packagename  will give you the full list of files that a package contains
2007-02-18T16:00:00.000Z	Okita	LjL	Hmm... I'm making a .deb package for a project I work on... currently the install script puts a directory in /opt and a symlink in /usr/bin.  So basically I could have it install and uninstall just via the scripts when people apt-get it.  Is that bad form?
2007-02-18T16:00:00.000Z	LjL	Okita	err... yeah
2007-02-18T16:01:00.000Z	LjL	Okita	creating and removing files should be left to dpkg itself to handle. the pre, post scripts should only be used for special things that might (or might not, more likely) have to be done for the program to work
2007-02-18T16:03:00.000Z	Okita	LjL	Ok, I see.  And does dpkg install everything to /usr/share on all systems that use it?  Would it be safe to refer to /usr/share in the pre and post scripts?
2007-02-18T16:03:00.000Z	LjL	Okita	why do you insist that dpkg installs in /usr/share? it *doesn't* install there
2007-02-18T16:04:00.000Z	LjL	Okita	it installs where it's told to install. the contents of data.tar.gz in the .deb file decide that
2007-02-18T16:04:00.000Z	LjL	Okita	and that should normally be the *entire* /usr hierarchy (not just /usr/share, why just /usr/share?)
2007-02-18T16:04:00.000Z	LjL	Okita	perhaps /opt if the program really needs to reside in its own directory -- but "proper" .deb packages never do that afaik
2007-02-18T16:06:00.000Z	Okita	LjL	I see... Then how does it know which directory?  That doesn't seem to be specified in the control file
2007-02-18T16:09:00.000Z	LjL	Okita	and indeed it isn't, it's specified in the data file. that simply contains the entire root hierarchy, and the files are put in their proper location
2007-02-18T16:10:00.000Z	LjL	Okita	so if a file must be in /usr/bin/filename, it is just put in usr/bin/filename inside the data.tar.gz file
2007-02-18T16:13:00.000Z	Okita	LjL	Ok, I see.  So when creating the .deb file, I should put the files in /usr/whatever first?
2007-02-18T16:14:00.000Z	LjL	Okita	to be honest i don't really know the correct procedure for *making* a package. i just know that, eventually, the file locations are known in data.tar.gz by the location inside the very tar archive
2007-02-18T16:23:00.000Z	Okita	LjL	I see, I'll give it a shot, thanks
