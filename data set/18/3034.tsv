2011-08-03T20:34:00.000Z	i0x71		hmm, i have a nfs mount mounted on 6 machines, and once in a while "ls" freezes when getting a listeing of nfs files, this happens randomly on all of the machines, any suggestions what could be causing this ?
2011-08-03T20:35:00.000Z	sipior	i0x71	are these particularly large directories?
2011-08-03T20:36:00.000Z	i0x71	sipior	yes, there are around 70k of files
2011-08-03T20:36:00.000Z	sipior	i0x71	you might consider organising them in smaller groups.
2011-08-03T20:37:00.000Z	i0x71	sipior	unfortunately that is not an optio
2011-08-03T20:37:00.000Z	sipior	i0x71	nfs can be touchy for large numbers of files, especially if being accessed from multiple machines.
2011-08-03T20:40:00.000Z	i0x71	sipior	weird thing is, this only happens once in a while
2011-08-03T20:40:00.000Z	i0x71	sipior	and kill -9 "ls pid" doesnt seem to kill it either
2011-08-03T20:41:00.000Z	sipior	i0x71	sure, i believe it. kill -9 won't work because the process is in "uninterruptible wait" (waiting on i/o, in fact)
2011-08-03T20:41:00.000Z	i0x71	sipior	hm
2011-08-03T20:41:00.000Z	i0x71	sipior	do you think async option would help this ?
2011-08-03T20:42:00.000Z	sipior	i0x71	could do, but it's really masking the problem.
2011-08-03T20:42:00.000Z	sipior	i0x71	how fast is the network running to the NAS?
2011-08-03T20:42:00.000Z	i0x71	sipior	10G
2011-08-03T20:43:00.000Z	sipior	i0x71	high packet loss? consider also examining the state of the NAS under load.
2011-08-03T20:44:00.000Z	i0x71	sipior	im thinking this has probably something to do with the box itself, the nas is located on the same switch
2011-08-03T20:44:00.000Z	sipior	i0x71	also, have a look here, especially the optimisation section: http://nfs.sourceforge.net/nfs-howto/
2011-08-03T20:44:00.000Z	i0x71	sipior	thanks
