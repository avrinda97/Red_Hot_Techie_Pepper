2007-08-27T08:19:00.000Z	age6racer		hi all, is it possible to log in as sudo with one command (something like) sudo passwd foo
2007-08-27T08:21:00.000Z	age6racer		All i want to do is use irexec to shutdown the pc. I need to issue the command in one go. I can't be prompted for a passowrd as it defeats the purpose of using a remote control. any ideas?
2007-08-27T08:23:00.000Z	age6racer		so how about a shutdown script?
2007-08-27T08:24:00.000Z	kauer	age6racer	Sorry, I missed the beginning of this thread re irexec. Tell me what you want to do again?
2007-08-27T08:27:00.000Z	kauer	age6racer	Do you need to do this remotely, or locally (in a console or terminal)?
2007-08-27T08:29:00.000Z	kauer	age6racer	Yes, but do you need to shutdown a machine you can physically reach out and touch, or a machine somewhere else on the internet?
2007-08-27T08:30:00.000Z	kauer	age6racer	So that means you want to execute a command on machine A that will (by whatever means) shut down machine B. Is that right?
2007-08-27T08:34:00.000Z	kauer	age6racer	You said you didn't want to touch it. It's going to be hard to do that unless you have really powerful mindwaves or something :-) Seriously though, are you talking about running a program on machine A to shut down machine A? If so, you have to either type the command, press a button, or in some other way interact physically with machine A. Anything else is a network job. I'm just trying to figure out whether you need a way to run 
2007-08-27T08:35:00.000Z	age6racer	kauer	I'm using an Infrared remote control and lirc/irexec. I want to shutdown the pc from my bed.
2007-08-27T08:36:00.000Z	kauer	age6racer	Aaaah! Much becomes clear. So this "irexec" is a program that detects the IR signal and executes a command. You want the command it executes to shut down the PC. So far so good?
2007-08-27T08:36:00.000Z	kauer	age6racer	OK, I'm guessing that irexec runs all the time, picking up signals and executing various programs. Is that right?
2007-08-27T08:37:00.000Z	kauer	age6racer	OK, so how does irexec itsef get run? Do you start it, or does it get started via a startup script in (say) /etc/init.d, or... That is, how does it get run in the first place?
2007-08-27T08:41:00.000Z	age6racer	kauer	what do you think? should I follow falstius' advice or is there a way which is doesn't require editing the sudoers file?
2007-08-27T08:42:00.000Z	kauer	age6racer	Adding it that way causes it to run as you, as your user. That user has no root rights, except via something like sudo, which generally requires a password before it will carry out commands as root. Allowing sudo to run shutdown without a password is not a bad idea in your situation, because shutdown is actually quite a safe command. I don't know how to do that, but someone else here will. It's not a very elegant solution, though.
2007-08-27T08:44:00.000Z	kauer	age6racer	Start the irexec program *as root*. This would mean wrapping in in gksudo. You would be prompted once (at the start of each session) for your password, then irexec would run in the background, just as it does now, but as root, and would be able to run shutdown without further passwords. If there are other IR commands you want carried out that involve running programs that use the X server displya, you would have to tell irexec to 
2007-08-27T08:46:00.000Z	kauer	age6racer	Start the irexec program *as root* by creating a startup script for it and placing it in /etc/init.d. This is harder, but irexec is running from the time the machine starts, you don't have to log in for it to be working. You need a suitable startup script, though.
2007-08-27T08:48:00.000Z	kauer	age6racer	Run another script, just for shutdown, in the background and *as root*. This script should look for a file called (say) "/tmp/shutdown". If it sees it, it deletes the file and shuts your PC down. If it doesn't see it, it goes to sleep for a minute, then wakes up and looks again. Such a script would be easy to write. Your irexec command then just creates that file. This would have the advantage that it ONLY requires root for the on
2007-08-27T08:59:00.000Z	age6racer	kauer	I understand what you were trying to do. And I appreciate your help. I didn't like the sound of editing this file but considering the machine it is on and the command in question i can live with it.
