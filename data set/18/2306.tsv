2010-09-13T14:33:00.000Z	nesbitt		i have an ubuntu server open to the internet, and yesterday i added my user account to another group using he command 'usermod -G groupname username' for sharing purposes, and today i found i was no longer in the sudoers file.  is this because i've done something funny with the groups, or could something else have gone wrong?
2010-09-13T14:35:00.000Z	erUSUL	nesbitt	"usermod -G groupname username" makes your user belong to groupname and *only* groupname
2010-09-13T14:34:00.000Z	erUSUL	nesbitt	you used the wrong command with the wrong options
2010-09-13T14:34:00.000Z	erUSUL	nesbitt	"sudo adduser username groupname" is the safer correct command. if you insist in using usermod then you should have added -a
2010-09-13T14:35:00.000Z	nesbitt	erUSUL	ah, i see, would that have screwed up my root privileges? i'm a bit of a n00b with this group stuff...
2010-09-13T14:35:00.000Z	nesbitt	erUSUL	ok, so have i done any more damage than removing myself from sudoers do you think?
2010-09-13T14:35:00.000Z	erUSUL	nesbitt	you lost all other memeberships
2010-09-13T14:36:00.000Z	nesbitt	erUSUL	i see, so is there some way to restore the default groups?
2010-09-13T14:36:00.000Z	nesbitt	erUSUL	should i just delete the users for which i used that command then add them again?
2010-09-13T14:36:00.000Z	erUSUL	nesbitt	for a start boot into recovery mode and add yourself to admin group « adduser username admin  » so you can use sudo
2010-09-13T14:37:00.000Z	erUSUL	nesbitt	then you can add the rest of the usefull groups
2010-09-13T14:38:00.000Z	nesbitt	erUSUL	ok, cool, i'm in the root shell now, so i did that and have root privileges again, are there any important groups i need to add myself and other users to?
2010-09-13T14:39:00.000Z	erUSUL	nesbitt	plugdev fuse the group of your user etc.... see the groups of a pristine user to get the idea
2010-09-13T14:39:00.000Z	nesbitt	erUSUL	ok, thanks so much for your help!
2010-09-13T14:40:00.000Z	erUSUL	nesbitt	no problem; next time read the manual pages ...
2010-09-13T14:41:00.000Z	erUSUL	nesbitt	in usermod man page -G option; i quote « If the user is currently a member of a group which is not listed, the user will be removed from the group. This behaviour can be changed via the -a option, which appends the user to the current supplementary group list.
2010-09-13T14:41:00.000Z	nesbitt	erUSUL	ok, cool. i did have a look at the man pages, but i was in a rush, couldn't read them thoroughly. guess i learnt my lesson
2010-09-13T14:42:00.000Z	erUSUL	nesbitt	ok;
