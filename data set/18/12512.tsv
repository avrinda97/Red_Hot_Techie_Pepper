2006-04-10T07:20:00.000Z	abuchbinder		Does anyone here know how to compile a single .c file into a kernel module? I have kernel headers; I just don't want to recompile the entire kernel. I found tutorials on compiling the whole kernel, but nothing about a single module.
2006-04-10T07:21:00.000Z	anonobomber	abuchbinder	what module are you trying to compile?
2006-04-10T07:22:00.000Z	abuchbinder	anonobomber	A modified version of xpad.c.
2006-04-10T07:22:00.000Z	abuchbinder	anonobomber	The stock version treats the D-pad as axes, and I need it treated as buttons so I can play DDR.
2006-04-10T07:23:00.000Z	anonobomber	abuchbinder	gcc -o foo foo.c
2006-04-10T07:24:00.000Z	abuchbinder	anonobomber	No, it's a kernel module. That doesn't work. I get a whole heap of errors.
2006-04-10T07:24:00.000Z	anonobomber	abuchbinder	you need to write a makefile for it
2006-04-10T07:25:00.000Z	abuchbinder	anonobomber	Is there a template Makefile somewhere?
2006-04-10T07:26:00.000Z	anonobomber	abuchbinder	look at some other module source's makefile, they're not much different from one another except for a couple paramaters
2006-04-10T07:26:00.000Z	anonobomber	abuchbinder	makefiles in the kernel source for driver modules would work
2006-04-10T07:27:00.000Z	abuchbinder	anonobomber	Those makefiles in the kernel source are recursive makefiles; they're not complete in and of themselves.
2006-04-10T07:27:00.000Z	abuchbinder	anonobomber	I also tried copying xpad.c into the kernel build directory and doing 'make xpad', but that failed as well. I don't want to have to build the entire kernel.
2006-04-10T07:27:00.000Z	anonobomber	abuchbinder	thats okay, you'll have to provide the SUBDIRS paramater to make
2006-04-10T07:28:00.000Z	abuchbinder	anonobomber	Huh?
2006-04-10T07:28:00.000Z	anonobomber	abuchbinder	I'd help you out more but I'm really busy now
2006-04-10T07:29:00.000Z	abuchbinder	anonobomber	No problem.
2006-04-10T07:30:00.000Z	anonobomber	abuchbinder	iirc the makefile for megaraid sources from lsi would be a good example to work from
2006-04-10T07:30:00.000Z	abuchbinder	anonobomber	Thanks.
