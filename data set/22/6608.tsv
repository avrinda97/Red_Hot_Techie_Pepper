2006-09-08T14:00:00.000Z	Gevaudan82		Hey guys, anyone know how I can permanently set static DNS settings for my ubuntu server...i'm behind a router but everytime i reboot the DNS gets changed to my router's IP and not the static IP i setup?
2006-09-08T14:01:00.000Z	magnet	Gevaudan82	disable DHCP
2006-09-08T14:02:00.000Z	Gevaudan82	magnet	i guess that would work...any other way? currently i'm assigning static ips based on DHCP
2006-09-08T14:02:00.000Z	magnet	Gevaudan82	yep, there are always other ways :)
2006-09-08T14:03:00.000Z	magnet	Gevaudan82	2 mins
2006-09-08T14:03:00.000Z	magnet	Gevaudan82	make a backup of the resolv.conf you want (with the good DNS servers)
2006-09-08T14:04:00.000Z	magnet	Gevaudan82	then create a basic scripts which will cp resolv_good.conf to /etc/resolv.conf (and overwrite the one sent by your DHCP server)
2006-09-08T14:04:00.000Z	Gevaudan82	magnet	the DNS server is the same server that is connected to the router, it's not a separate machine...
2006-09-08T14:04:00.000Z	Gevaudan82	magnet	cool, i'll try this, thanks!
2006-09-08T14:04:00.000Z	magnet	Gevaudan82	finally, in your interfaces file, just add to the good network device (eth0 or such) : post-up /path/to/myscript
2006-09-08T14:05:00.000Z	Gevaudan82	magnet	i'm following you so far, but where is the interfaces file?
2006-09-08T14:05:00.000Z	magnet	Gevaudan82	post-up allows to execute a command after the interface is up
2006-09-08T14:05:00.000Z	magnet	Gevaudan82	/etc/network/interfaces
2006-09-08T14:05:00.000Z	magnet	Gevaudan82	and beware of the Beast :)
2006-09-08T14:06:00.000Z	Gevaudan82	magnet	just add it beneath the lines auto eth0 / iface eth0 inet dhcp or do i append it after dhcp
2006-09-08T14:07:00.000Z	magnet	Gevaudan82	don't you have something like "up dhcpdns"
2006-09-08T14:07:00.000Z	magnet	Gevaudan82	you could also remove this line to avoid getting the DHCP dns servers
2006-09-08T14:07:00.000Z	Gevaudan82	magnet	nope, not in /etc/network/interfaces
2006-09-08T14:07:00.000Z	magnet	Gevaudan82	ok then put the postup on the line below after a Tab
2006-09-08T14:08:00.000Z	Gevaudan82	magnet	i'll try that too, thanks
2006-09-08T14:17:00.000Z	Gevaudan82	magnet	your original suggestion was probally easiest and it worked...just tell my server to use a static ip and the DNS settings stick
2006-09-08T14:18:00.000Z	magnet	Gevaudan82	well, both work :)
