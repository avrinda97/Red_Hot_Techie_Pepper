2012-09-07T23:46:00.000Z	tomreyn	copec	you want linux 3.5 for proper cgroups support
2012-09-07T23:47:00.000Z	copec	tomreyn	 Doesn't LXC use the namespaces subsystem?
2012-09-07T23:47:00.000Z	tomreyn	copec	yes it does, but i assume you want proper isolation?
2012-09-07T23:48:00.000Z	copec	tomreyn	 So can I trust lxc isolation on a default 3.2 kernel in 12.04?
2012-09-07T23:49:00.000Z	tomreyn	copec	no. https://wiki.ubuntu.com/LxcSecurity
2012-09-07T23:51:00.000Z	copec	tomreyn	 Thanks for the link, I've been using the cpu and blkio subsystems sucessfully with the cglib, and now I want to expirement with namespaces
2012-09-07T23:51:00.000Z	copec		the subsystem isn't even showing up however
2012-09-07T23:52:00.000Z	copec	tomreyn	 if I cat /proc/cgroups, I get blkio, cpu, cpuset, cpuacct,  devices, freezer, memory, perf_event but no ns
2012-09-07T23:52:00.000Z	tomreyn	copec	get an up to date kernel.
2012-09-07T23:53:00.000Z	copec	tomreyn	 ty
2012-09-07T23:55:00.000Z	tomreyn	copec	i'm not sure whether all features LXC depends on are actually available in linux 3.5, but it surely improves cgroups support a lot. i aslo do not know whether that's sufficient to fille the gaps around isolation. unfortunately the LXC website isn't exactly vocal on these critical issues.
2012-09-07T23:57:00.000Z	copec	tomreyn	 I'm just confused how cgroups has been around since linux 2.6, and all the subsystems show up on the latest default kernel on an ubuntu 10.04 box I have...but the namespace one is missing on an ubuntu 12.04 box
2012-09-07T23:58:00.000Z	copec	tomreyn	 and then I see stuff like this:  http://www.stgraber.org/2012/05/04/lxc-in-ubuntu-12-04-lts/  that makes it seem like lxc should be great on 12.04
2012-09-07T23:58:00.000Z	copec	tomreyn	 but the default kernel is missing a subsystem it needs
2012-09-08T00:02:00.000Z	tomreyn	copec	did you spot this? "NOTE: Until we have user namespaces implemented in the kernel and used by the LXC we will NOT say that LXC is root safe, however the default apparmor profile as shipped in Ubuntu 12.04 LTS is blocking any armful action that we are aware of."
2012-09-08T00:03:00.000Z	copec	tomreyn	 I didn't, I guess I need to pay closer attention and stop bothering people :)
2012-09-08T00:04:00.000Z	tomreyn	copec	it's on the stgraber.org page you posted. they tried to work around the security issues in lxc by adding apparmor profiles. to me this sounds like they really badly needed to have "lxc support" on their feature list for 12.04.
2012-09-08T00:43:00.000Z	tomreyn	copec	you may want to try this, too: http://blog.bofh.it/debian/id_413
2012-09-08T00:48:00.000Z	copec	tomreyn	 heh, nice link, I'm looking at the apparmor profile now,
2012-09-08T00:49:00.000Z	copec	tomreyn	 I'm working specifically on a shared web hosting setup, I've been arbitrating resources with cgroups, now I'm chrooting cgi's...I think I'm going to write an apparmor profile for it
2012-09-08T00:49:00.000Z	copec	tomreyn	 namespaces seemed like it would have been more simple and easy
2012-09-08T00:50:00.000Z	tomreyn	copec	i haven't actually (re-)tried lxc lately, just keep reading it's not there, yet.
