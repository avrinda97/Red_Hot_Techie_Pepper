2009-11-05T06:14:00.000Z	zenit	Penguin342	how do you authenticate as, user ftp or your regular user? Do you upload to a specific upload directory only?
2009-11-05T06:15:00.000Z	Penguin342	zenit	As of now, Im using vsftpd.  I am wondering if there is a setting in the vsftpd.conf file that would do this.
2009-11-05T06:16:00.000Z	Penguin342	zenit	all Im trying to do is make it so I can transfer to this directory, without having to go in to the server's command line and "chown -R filename"
2009-11-05T06:16:00.000Z	zenit	Penguin342	it might be, especially if it is a dedicated upload directory as set in the ftp server. Then it might be set to change the ownership to ftp on all uploaded files.
2009-11-05T06:16:00.000Z	Penguin342	zenit	what is the ftp server program for it.  This server is next to me and it uses gnome
2009-11-05T06:17:00.000Z	zenit	Penguin342	it is just plain vsftpd, you probably want to read the documentation about it and change some setttings in vsftpd.conf
2009-11-05T06:18:00.000Z	Penguin342	zenit	It seems like a simple task, but all I want to do is transfer files from my laptop  to the server's /var/www , the files automatically chowning to www-data:www-data
2009-11-05T06:18:00.000Z	Penguin342	zenit	I did read up on it and it seems to suggest that there is no setting for that if you are ftping non-annonymously
2009-11-05T06:18:00.000Z	zenit	Penguin342	you can also set the upload directory to be setuid www-data, then created files in it will have the owner set
2009-11-05T06:19:00.000Z	Penguin342	zenit	how do I do that.  I tried "chmod u+s /var/www" but it didnt do it.  It worked for the group ID (via "chmod g+s /var/www/")
2009-11-05T06:42:00.000Z	zenit	Penguin342	one of solving this, which I know works is by using groups. Set the directory to be setgid, chmod 2775 /var/www. Create a group of webusers, and make sure that www-data and the users you want to give access are members of this group. Uploaded files will then still have their original owner, but the group will be set to the one you specify.
2009-11-05T06:43:00.000Z	Penguin342	zenit	and if I did it this way, when I ls -al the www directory, would uploaded files go to www-data:www-data?
2009-11-05T06:43:00.000Z	zenit	Penguin342	no, they will keep their original owner but the group will be set to the group that owns the directory.
2009-11-05T06:44:00.000Z	Penguin342	zenit	Yeah, that might not work. I think some of the cms tools rely on files being www-data:www-data
2009-11-05T06:44:00.000Z	zenit	Penguin342	No, as long as the group is given the correct rights it does not matter
2009-11-05T06:45:00.000Z	zenit	Penguin342	as long as www-data is a member of this group
2009-11-05T06:45:00.000Z	zenit	Penguin342	however, I would still look into it a bit more if vsftpd can change the ownership on uploaded files, but it seems as you have looked into it already.
2009-11-05T06:46:00.000Z	Penguin342	zenit	Yeah. I have.  Its been driving me crazy
2009-11-05T06:50:00.000Z	zenit	Penguin342	you probably want to seg the segid bit on directories only, find /var/www -type d | xargs g+s or something like that. Make sure that the you restart apache and those services that you make member of this group though.
2009-11-05T06:51:00.000Z	Penguin342	zenit	and how do I alter the uids into groups using gnome?  User Settings only lets me connect machine logins to a group, but not uid's to a group
2009-11-05T06:52:00.000Z	zenit	Penguin342	I have no idea, I do not use gnome. You can add a user to a group by using: adduser <user> <group>
2009-11-05T06:54:00.000Z	Penguin342	zenit	I just added ftp to group www-data
