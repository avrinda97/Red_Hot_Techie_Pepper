2005-07-12T11:25:00.000Z	x_or		I need to edit the sudoers file, and have a file which I want to replace as the existing sudoers file.  I know it parses.  I cannot determine the proper combination of redirection to accomplish this, using vi or any other editor.  Is there a way to get visudo to read in another file and replace the sudoers content with it, and then verify the syntax?
2005-07-12T11:27:00.000Z	HappyFool	x_or	you have a single user machine?
2005-07-12T11:27:00.000Z	HappyFool	x_or	which you can boot in rescue mode if things go wrong?
2005-07-12T11:28:00.000Z	HappyFool	x_or	backup /etc/sudoers, and copy over the file.
2005-07-12T11:29:00.000Z	x_or	HappyFool	 I am always worried about direct copying because the permissions are so strict for the sudoers file.  I'd so prefer to use visudo in the chain of commands, since it fails to install the file if anything is wrong.
2005-07-12T11:30:00.000Z	HappyFool	x_or	what's the worst that can happen?
2005-07-12T11:30:00.000Z	HappyFool	x_or	that's why i asked if it's a single-user, no-big-deal-to-reboot machine
2005-07-12T11:31:00.000Z	HappyFool	x_or	at a guess, use ':r <filename>' to read a file in vi
2005-07-12T11:31:00.000Z	HappyFool	x_or	:r seems to work. you'll still need to erase all the old lines though
2005-07-12T11:33:00.000Z	HappyFool	x_or	my /etc/sudoers has 440 mode, afaict
2005-07-12T11:45:00.000Z	HappyFool	x_or	my history seems to survive. how are you killing the terminals?
2005-07-12T11:46:00.000Z	HappyFool	x_or	yes, i use Ctl-D, in gnome-terminal. but 'exit' ought to also work (i think)
2005-07-12T11:46:00.000Z	HappyFool	x_or	i thought maybe you were killing the window using the close-window button
2005-07-12T11:48:00.000Z	HappyFool	x_or	often. i'm not all that reliant on command history, though
2005-07-12T11:48:00.000Z	HappyFool	x_or	you know about 'screen', btw?
2005-07-12T11:49:00.000Z	HappyFool	x_or	ok. not all terminal junkies know about it ;)
2005-07-12T11:49:00.000Z	HappyFool	x_or	it seems to append the histories, afaict, in order of which shell is closed last
2005-07-12T11:49:00.000Z	x_or	HappyFool	 No, I appreciate the information.
2005-07-12T11:50:00.000Z	HappyFool	x_or	i believe the history is stored in ~/.bash_history
2005-07-12T11:50:00.000Z	HappyFool	x_or	do you have this file? and what does it look like?
2005-07-12T11:52:00.000Z	HappyFool	x_or	cool
2005-07-12T11:53:00.000Z	HappyFool	x_or	maybe 'sudo -H -s' or something will work better than 'sudo bash'
