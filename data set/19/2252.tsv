2012-09-04T20:56:00.000Z	jklowden		Hi gents, my server crashed and now all it wants to do is run memory tests. Silly, because it's just a VM. How do I convince it to boot the OS instead?
2012-09-04T20:58:00.000Z	jklowden		dr_wilis, it boots to a menu offering memtest or memtest with serial console. In 2 seconds it starts running tests.  Typing 'c' gets me to the grub command line.
2012-09-04T20:59:00.000Z	jklowden		lovely, no?
2012-09-04T21:00:00.000Z	TJ-	jklowden	Can you try holding down SHIFT as the VM boots to get to the GRUB menu, and see if theres' a "Previous operating systems" sub-menu you can go into?
2012-09-04T21:01:00.000Z	TJ-	jklowden	It sounds like somehow grub managed to not find the kernels in /boot/ when doing grub-update last
2012-09-04T21:01:00.000Z	TJ-	jklowden	update-grub, even!
2012-09-04T21:04:00.000Z	TJ-	jklowden	looks like as dr_willis said, you've managed to 'lose' the kernels!
2012-09-04T21:05:00.000Z	TJ-	jklowden	best thing is, if you can loop-mount the VM image, to use chroot to reinstall the kernel packages and update-grub
2012-09-04T21:20:00.000Z	TJ-	jklowden	Ahhhh OK. Makes sense. I would take a stab are recovering the 'hosed' partition first.
2012-09-04T21:21:00.000Z	TJ-	jklowden	If you can remember the proper layout of the partitions (their purpose and number) you have a good chance to get somewhere
2012-09-04T21:23:00.000Z	TJ-	jklowden	well forget GRUB, your issue is before GRUB possibly. If there's another partition in that VM image (my guess would be (hd0,msdos1) or maybe msdos2, you can recover that and get grub to reconfigure correctly
2012-09-04T21:23:00.000Z	TJ-	jklowden	I know this sounds silly but is it possible you're using the wrong VM image? :p
2012-09-04T21:26:00.000Z	TJ-	jklowden	OK, That means at the partition level the image has p1 == root , p2 ==extended, p5 (1st entry in extended) /boot/
2012-09-04T21:28:00.000Z	TJ-	jklowden	That sounds correct... although what bothers me is I think in that case that p5 is usually supposed to be swap :s
2012-09-04T21:32:00.000Z	TJ-	jklowden	I can do that here; no; I think what you need do is inspect p1 for signs of a file-system. It would be helpful to see the output of "fdisk -l /dev/loopX" for that VM to get an idea how large the partitions are - size often indicates purpose
2012-09-04T21:37:00.000Z	TJ-	jklowden	It depends on what tools OSX has available :)
2012-09-04T21:59:00.000Z	TJ-	jklowden	It's quite sad isn't it? Remembering that stuff? :s
2012-09-04T22:01:00.000Z	TJ-	jklowden	Arghh! Now you're gonna give me nightmares tonight!
2012-09-04T22:01:00.000Z	TJ-	jklowden	How about emm386.sys? :p almost as good as your current GRUB issues :D
