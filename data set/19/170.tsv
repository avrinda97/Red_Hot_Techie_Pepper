2012-08-06T23:29:00.000Z	dnewkirk		Can someone help me problem solve a sftp config issue?
2012-08-06T23:30:00.000Z	POVaddct	dnewkirk	please be more specific
2012-08-06T23:31:00.000Z	dnewkirk		I am getting a subsystem request failed on chennel 0 error. I found that my sshd_config file was empty (might have been erased after an update?), but even after updating that nothing seems to work.
2012-08-06T23:32:00.000Z	POVaddct	dnewkirk	what is the output of: grep Subsystem /etc/ssh/sshd_config
2012-08-06T23:33:00.000Z	dnewkirk	POVaddct	Subsystem sftp internal-sftp
2012-08-06T23:34:00.000Z	POVaddct	dnewkirk	i never used internal-sftp, only the external binary (/usr/lib/openssh/sftp-server)
2012-08-06T23:34:00.000Z	POVaddct	dnewkirk	but i am running debian here, maybe ubuntu switched to internal-sftp
2012-08-06T23:36:00.000Z	POVaddct	dnewkirk	if the external binary /usr/lib/openssh/sftp-server is already present, you can try that one
2012-08-06T23:36:00.000Z	POVaddct	dnewkirk	replacing the line in sshd_config to: Subsystem sftp /usr/lib/openssh/sftp-server
2012-08-06T23:39:00.000Z	dnewkirk	POVaddct	I've replaced it, but nothing is working yet.
2012-08-06T23:39:00.000Z	dnewkirk		Might try a reboot
2012-08-06T23:39:00.000Z	POVaddct	dnewkirk	do you use the Chroot feature of sshd?
2012-08-06T23:40:00.000Z	dnewkirk		Not at the moment, no.
2012-08-06T23:41:00.000Z	POVaddct	dnewkirk	i'd suggest to strace the sshd process when connecting with an sftp client
2012-08-06T23:48:00.000Z	dnewkirk	POVaddct	Verbose output from sftp seems to indicate the failure happens when sending subsystem: sftp. The binary is there, but I'm not sure it's working. It's a bit odd.
2012-08-06T23:49:00.000Z	POVaddct	dnewkirk	you should strace the server side. debug output of the client might not be enough.
2012-08-06T23:51:00.000Z	dnewkirk	POVaddct	I've got it working. had to do a apt-get purge and reinstall openssh-server. Seems a lot of the config files got fouled up!
2012-08-06T23:51:00.000Z	POVaddct	dnewkirk	whatever happened at the last update... :)
2012-08-06T23:54:00.000Z	dnewkirk	POVaddct	Apparently apt-get decided my life wasn't exciting enough...
