2010-11-20T08:59:00.000Z	gasull		Has anybody tried to run apt-get with a proxy?  http://dpaste.com/277576/  It fails to fetch every single repo.
2010-11-20T08:59:00.000Z	Skapare	gasull	have not yet but was planning to try that at work
2010-11-20T09:01:00.000Z	Skapare	gasull	not sure if needed here, but I have seen SOME programs that fail if a URL ends in the host:port part w/o a trailing '/'
2010-11-20T09:01:00.000Z	Skapare	gasull	you might append / to that proxy URL and try again just to be sure
2010-11-20T09:01:00.000Z	Skapare	gasull	I assume you verified the proxy with a browser
2010-11-20T09:02:00.000Z	gasull	Skapare	thanks but it doesn't work :-(
2010-11-20T09:03:00.000Z	Skapare	gasull	then I guess you'll need to do some network sniffing to see what is happening wrong
2010-11-20T09:03:00.000Z	Skapare	gasull	or wait until I get around to doing a proxy at work + time to debug it
2010-11-20T09:06:00.000Z	Skapare	gasull	what ssh option?
2010-11-20T09:07:00.000Z	gasull	Skapare	sacarlson: yes, Firefox is working with it: ssh -ND 7777 -p 587 example.com
2010-11-20T09:08:00.000Z	Skapare	gasull	you have specified HTTP proxying, not SOCKS proxying, in that config
2010-11-20T09:09:00.000Z	Skapare	gasull	I'm not sure it can do socks proxying
2010-11-20T09:09:00.000Z	Skapare	gasull	but you might try "http://" -> "socks://" or "socks5://" to see if
2010-11-20T09:10:00.000Z	Skapare	gasull	otherwise you might need to run a socks library wedge (forget the name of it) to force all connect() sys calls to call a socks support function
2010-11-20T09:12:00.000Z	gasull	Skapare	tried with "socks".  Also, I captured the network traffic with Wireshark while using "http" in /etc/apt/apt.conf
2010-11-20T09:13:00.000Z	Skapare	gasull	it will try to do HTTP style proxying ... any chance you can set up an HTTP proxy server at the far end of your SSH connection ... and use -L on SSH to pass the connection to the proxy server?
2010-11-20T09:14:00.000Z	Skapare	gasull	apache, squid, etc for proxy HTTP style
2010-11-20T09:14:00.000Z	gasull	Skapare	mmm... I never tried that
2010-11-20T09:21:00.000Z	gasull	Skapare	it works with tsocks :-)
2010-11-20T09:22:00.000Z	Skapare	gasull	\o/
2010-11-20T09:22:00.000Z	gasull	Skapare	when you mentioned using "socks://" I realized what the problem was.  Thanks.
2010-11-20T09:23:00.000Z	Skapare	gasull	well you have 2 solutions in case the other ever finds a problem it can solve :)
2010-11-20T09:23:00.000Z	gasull	Skapare	what's the other solution?
