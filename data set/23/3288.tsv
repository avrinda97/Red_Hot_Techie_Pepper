2008-10-17T14:08:00.000Z	IcyPolecat		anyone know how to hardcode DNS servers to prevent network manager from setting them?
2008-10-17T14:09:00.000Z	bytecode	IcyPolecat	edit /etc/resolv.conf to specify dns
2008-10-17T14:10:00.000Z	IcyPolecat	bytecode	have done that but it gets overridden as part of my DHCP config by network manager
2008-10-17T14:11:00.000Z	bytecode	IcyPolecat	does NM lose the settings if you specify them in the NM DNS tab also?
2008-10-17T14:13:00.000Z	bytecode	IcyPolecat	I'm not sure how to stop NM doing that, I guess you could either setup a script to amend resolv.conf, or stop using NM and setup your DHCP client and resolv.conf etc yourself. I tned not to use DHCP though - I use static as I only have about 10 machines on the network.
2008-10-17T14:13:00.000Z	bytecode	IcyPolecat	and the DHCP server caters for the laptops.
2008-10-17T14:15:00.000Z	IcyPolecat	bytecode	ok thanks anyway - I assume there is a hook somewhere that needs to be disabled but jiggered if I can find it :-)
2008-10-17T14:16:00.000Z	bytecode	IcyPolecat	sorry I couldn't be of more help. wonder if you could manually edit /etc/resolv.conf, then set it to read only so that NM can't write to it
2008-10-17T14:17:00.000Z	IcyPolecat	bytecode	worth a try! just not sure how I could do that as am pretty sure NM runs with root privalege
2008-10-17T14:17:00.000Z	bytecode	IcyPolecat	I suspect you're right.
2008-10-17T14:18:00.000Z	bytecode	IcyPolecat	 you could just set up a cronjob to overwrite the NM version with your own if the file is different? it's a little "dirty" but would work.
2008-10-17T14:19:00.000Z	IcyPolecat	bytecode	problem is I need the DNS there at boot time as Postfix starts just after and mucks up if it can't resolve.
2008-10-17T14:19:00.000Z	IcyPolecat	bytecode	might be possible to force Postfix to use set DNS servers but don't really want to break the whole resolv.conf setup
2008-10-17T14:20:00.000Z	bytecode	IcyPolecat	if it's at boot then that would be prior to NM starting? so it should be in place from the overwrite that would have happened prior to shutdown.
2008-10-17T14:21:00.000Z	bytecode	IcyPolecat	still, it is a little dirty - I'd prefer a better solution such as disabling NM's dns overwrite in the first place.
2008-10-17T14:21:00.000Z	IcyPolecat	bytecode	possibly it may be the case that the old config is still there but the scripts that run to update NM config also restart Postfix - thus breaking heem
2008-10-17T14:22:00.000Z	bytecode	IcyPolecat	lol - that's a pain! There must be a solution. wonder if it's worth looking at the NM source to look for switches?
2008-10-17T14:23:00.000Z	IcyPolecat	bytecode	and wading through the source is just how I want to spend my morning :)
2008-10-17T14:24:00.000Z	bytecode	IcyPolecat	lol - bread and butter for me - PHP/Postgres/SQL etc... oh well - good luck ;-)
2008-10-17T14:30:00.000Z	bytecode	IcyPolecat	does this sound like the solution you're looking for? some one has a workaround:  https://bugs.launchpad.net/ubuntu/+source/network-manager/+bug/91890
2008-10-17T15:01:00.000Z	bytecode	IcyPolecat	 I found another solution to your DNS issue whilst you were away, don't know whether you'd find it preferable : https://bugs.launchpad.net/ubuntu/+source/network-manager/+bug/91890
2008-10-17T15:02:00.000Z	IcyPolecat	bytecode	thx - have already done the prepend trick as found it somewhere else - hope they fix the "bug" for Intrepid
2008-10-17T15:03:00.000Z	bytecode	IcyPolecat	glad you found a solution
