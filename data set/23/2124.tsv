2012-05-08T07:16:00.000Z	Tohuw		How can I add a second image to my Ubuntu PXE server? I have the first one working, but am unclear on how to add the second and how to pick the image. I setup PXE per https://help.ubuntu.com/community/PXEInstallServer
2012-05-08T07:18:00.000Z	Terminus_	Tohuw	what are you trying to do? do you want to be able to install different versions of ubuntu through pxe?
2012-05-08T07:18:00.000Z	Tohuw	Terminus_	Correct. Namely, 12.04 in both 32 and 64 bit.
2012-05-08T07:19:00.000Z	Terminus_	Tohuw	what i've done here is mirror i386 and amd64 to a webserver and i have a pxe config i wrote from scratch. =|
2012-05-08T07:22:00.000Z	Terminus_	Tohuw	have you tried just copying the contents of the CDs to a directory on your webserver to recreate the directory structure of archive.ubuntu.com? if you can do that, it's probable you can just add another entry in your pxe config that uses the amd64 instead of the i386 kernel.
2012-05-08T07:27:00.000Z	Tohuw	Terminus_	I don't mind downloading the packages from archive.ubuntu.com. I just want to be able to pick 32 or 64 at boot time. I haven't mirrored the archive, set up the http part, etc.
2012-05-08T07:27:00.000Z	Terminus_	Tohuw	here's a snippet from my config --> http://codepad.org/Ilfvq8y7
2012-05-08T07:29:00.000Z	Terminus_	Tohuw	what i did was i downloaded the kernel and initrd from http://ftp.jaist.ac.jp/pub/Linux/ubuntu/dists/precise/main/installer-i386/current/images/netboot/ubuntu-installer/i386/ and http://ftp.jaist.ac.jp/pub/Linux/ubuntu/dists/precise/main/installer-amd64/current/images/netboot/ubuntu-installer/amd64/, placed them in their own directories under tftpboot, and have different menu entries for starting them in pxelinux.cfg/default
2012-05-08T07:31:00.000Z	Tohuw	Terminus_	ah. gotcha. Can I ogle your pxelinux.cfg?
2012-05-08T07:31:00.000Z	Terminus_	Tohuw	since you don't mind downloading from archive.ubuntu.com, you can just adapt the configuration i pasted with the appropriate kernel and initrd files and you should be good to go.
2012-05-08T07:31:00.000Z	Terminus_	Tohuw	http://codepad.org/Ilfvq8y7
2012-05-08T07:32:00.000Z	Terminus_	Tohuw	^^^ that's the portion of my pxe config that handles ubuntu.
2012-05-08T07:32:00.000Z	Tohuw	Terminus_	Thanks!
2012-05-08T07:32:00.000Z	Terminus_	Tohuw	i pasted it earlier. guess you missed it. =)
2012-05-08T07:34:00.000Z	Terminus_	Tohuw	there are 5 entries, it's just the standard install and rescue startup for 32 bit and 64 bit. you can just delete the entry with the preseed url. it's for automated installation that i've been working on.
2012-05-08T07:34:00.000Z	Tohuw	Terminus_	indeed I did. I see it now. If I wanted to pull the kernel and initrd files from archive.ubuntu.com, do I need to provide their physical path via http, or just call them by name and it will know to seek it from there?
2012-05-08T07:36:00.000Z	Terminus_	Tohuw	the kernel and initrd files are loaded via tftp, not http so you have to place them in your tftpboot directory as well.
2012-05-08T07:37:00.000Z	Tohuw	Terminus_	ah, gotcha. just make different directories for them. It all makes sense now :|
2012-05-08T07:38:00.000Z	Terminus_	Tohuw	yep. just for reference, here's my directory structure for the kernels and initrds --> http://codepad.org/HUu1eChC
2012-05-08T07:38:00.000Z	Tohuw	Terminus_	many thanks. You've been most helpful.
2012-05-08T07:39:00.000Z	Terminus_	Tohuw	good luck and have fun. network boot is quite convenient. =)
2012-05-08T07:39:00.000Z	Tohuw	Terminus_	indeed, especially for someone who has a system with no optical drive and loses thumb drives like it's his profession.
2012-05-08T07:40:00.000Z	Terminus_	Tohuw	hehe. we don't bother installing optical drives here either. i can automate installs better with network boot as well.
