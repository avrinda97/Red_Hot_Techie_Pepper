2010-07-17T01:43:00.000Z	WJ		I got myself a problem: I can't browse since today: eth0 works fine, wlan0 brought down, unplugged it even just to try it, IP config ooks fine, internal browsing also ok, /etc/resolv.conf mentione my dns servers just fine, ping to outside ip adresses works fine, but no nslookup
2010-07-17T01:43:00.000Z	WJ		Who can point me in the right direction?
2010-07-17T01:45:00.000Z	[4-tea-2]	WJ	now this could sound weird... there was a change to DNS root servers recently (DNSSEC).
2010-07-17T01:46:00.000Z	[4-tea-2]	WJ	I didn't follow that too closely, but you could be affected if you only allow nameserver responses by UDP, because they're sending more data now.
2010-07-17T01:50:00.000Z	[4-tea-2]	WJ	in case you want to follow my absurd hunch, check 'iptables -vnL' to see what you're allowing on port 53.
2010-07-17T01:52:00.000Z	[4-tea-2]	WJ	well, so much for that idea. ;)
2010-07-17T01:53:00.000Z	[4-tea-2]	WJ	next, I'd try a live CD to see whether it's the router that's fscking the linux box or if it's the local configuration of the linux system.
2010-07-17T01:55:00.000Z	[4-tea-2]	WJ	'host' or 'nslookup' can help you find the problem.
2010-07-17T01:55:00.000Z	[4-tea-2]	WJ	you can tell both tools which DNS server to use.
2010-07-17T01:55:00.000Z	[4-tea-2]	WJ	they will ignore local settings.
2010-07-17T01:56:00.000Z	[4-tea-2]	WJ	e.g. "host www.saar.de 8.8.8.8"
2010-07-17T01:56:00.000Z	[4-tea-2]	WJ	if that fails, it's not your DNS setup but a network/router problem, methinks.
2010-07-17T01:57:00.000Z	[4-tea-2]	WJ	then you don't need to bother about your DNS setup on that machine. Next: live CD or tcpdump. :D
2010-07-17T01:58:00.000Z	[4-tea-2]	WJ	...or wireshark, if you're the pointy-clicky kinda guy.
2010-07-17T02:00:00.000Z	[4-tea-2]	WJ	did you reboot your router yet?
2010-07-17T02:00:00.000Z	[4-tea-2]	WJ	there you go. It just doesn't like Linux systems.
2010-07-17T02:00:00.000Z	[4-tea-2]	WJ	I've seen commercial routers behave weird before.
2010-07-17T02:01:00.000Z	[4-tea-2]	WJ	look at what we know... a DNS lookup directly to a known to be good DNS server fails and there are no iptables rules in place.
2010-07-17T02:02:00.000Z	[4-tea-2]	WJ	instead of rebooting the router, I recommended before to check a) with a live cd or b) with wireshark what's happening with the DNS requests.
2010-07-17T02:03:00.000Z	[4-tea-2]	WJ	it's already empty, as you told us before, but anyway: iptables --flush
2010-07-17T02:04:00.000Z	[4-tea-2]	WJ	to make totally sure, also do a: iptables --table nat --flush
2010-07-17T02:08:00.000Z	[4-tea-2]	WJ	actually, no, that's a security feature of the IRC network.
2010-07-17T02:08:00.000Z	[4-tea-2]	WJ	some IRC networks check whether users are exploitable before they allow them to log on - just for their protection. I think freenode does something like that, too.
