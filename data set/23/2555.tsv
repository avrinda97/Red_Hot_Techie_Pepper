2009-01-28T18:33:00.000Z	catbooted2		i'm in china; i'm afraid one day maybe the government will find me using opendns name servers and block them
2009-01-28T18:35:00.000Z	catbooted2		another question: this "resolv.conf", is it updated every time i restart computer?
2009-01-28T18:36:00.000Z	hatter243	catbooted2	yes it is, with the results of the dhcp request. With that "prepend" line, it will put those entries first in resolv.conf whenever a dhcp server replys with dns addresses
2009-01-28T18:17:00.000Z	hatter243	catbooted2	remove all your nameservers? Why?
2009-01-28T18:17:00.000Z	catbooted2	hatter243	my only name server in resolv.conf is 192.168.1.1 and it doesn't work
2009-01-28T18:18:00.000Z	hatter243	catbooted2	sudo network-admin
2009-01-28T18:18:00.000Z	catbooted2	hatter243	command not found
2009-01-28T18:19:00.000Z	hatter243	catbooted2	bleargh. Alright, in resolv.conf enter nameserver 208.67.222.222 and nameserver 208.67.220.220   those are both the nameservers of opendns
2009-01-28T18:20:00.000Z	hatter243	catbooted2	after that "sudo ifdown eth0 && sudo ifup eth0" without the quotes, provided your internet connection is named eth0
2009-01-28T18:20:00.000Z	catbooted2	hatter243	good! it works now
2009-01-28T18:21:00.000Z	hatter243	catbooted2	one more step, you need to edit /etc/dhcp3/dhclient.conf and add the following line to it "prepent domain-name-servers 208.67.222.222,208.67.220.220;" so that it'll stick around if you reboot
2009-01-28T18:21:00.000Z	hatter243	catbooted2	Misspelling! Change "prepent" to "prepend"
2009-01-28T18:21:00.000Z	catbooted2	hatter243	it returns 2 lines of "Ignoring unknown interface eth0=eth0."
2009-01-28T18:23:00.000Z	hatter243	catbooted2	ah, don't worry about that eth0=eth0 thing
2009-01-28T18:23:00.000Z	hatter243	catbooted2	but you will need that prepend line
2009-01-28T18:24:00.000Z	catbooted2	hatter243	i just think all this manual hack is weird. is there a way to get a fresh-out-of-the-box network configuration? i guess "sudo dpkg-reconfigure network-manager"?
2009-01-28T18:25:00.000Z	hatter243	catbooted2	hrm... I don't know, it might be that wherever you're getting your dhcp from has some terrible ideas about which dns servers you should be using. In that case, it's not anything wrong with your computer at all
2009-01-28T18:26:00.000Z	catbooted2	hatter243	last question: how long can these opendns ips remain working?
2009-01-28T18:27:00.000Z	hatter243	catbooted2	if you don't type that prepend line into your dhclient.conf then it will remain in effect until you restart your computer.
2009-01-28T18:27:00.000Z	catbooted2	hatter243	since the bad dns server was generated by NetworkManager, could it be that my NetworkManager needs some fix?
2009-01-28T18:27:00.000Z	catbooted2	hatter243	i mean, these opendns servers, will they go down or blocked?
2009-01-28T18:29:00.000Z	hatter243	catbooted2	the opendns servers won't go away. I doubt that networkmanager generated that bad dns server. That resolv.conf file is generated when you get a dhcp address with the dns servers that the dhcp server tells you. Either your dhcp server isn't telling you anything or it's telling you the wrong thing. Check with your router and see what it thinks the dns servers should be.
2009-01-28T18:32:00.000Z	hatter243	catbooted2	that's the example line, to enter your own information remove the "#"
