2010-10-25T09:27:00.000Z	bryhoyt	coraxx	oh, ok. I thought there was some way to hook into it :-(
2010-10-25T09:23:00.000Z	coraxx	bryhoyt	shutdown -h now
2010-10-25T09:24:00.000Z	bryhoyt	coraxx	thanks, I know what shutdown does. But how do I get Ubuntu to call it when I press the physical power button?
2010-10-25T09:27:00.000Z	coraxx	bryhoyt	I think it might be a program (like "fast-user-switch-applet" ) ...not nessecarily a script
2010-10-25T09:29:00.000Z	coraxx	bryhoyt	there a multiple shutdown buttons to choose from ....if you find the source-code for one, you can change/modify it and recompile ... or maybe make your own shutdown-button ...shouldn't be hard to make one similar in Python.
2010-10-25T09:29:00.000Z	bryhoyt	coraxx	hmmm, yeah, I'm just wondering where to find the program/script in the first place
2010-10-25T09:32:00.000Z	bryhoyt	coraxx	thanks for your help, I think I may have found it in /etc/acpi/powerbtn.sh
2010-10-25T09:32:00.000Z	coraxx	bryhoyt	you want something to occur when you log out ? .... check out /usr/share/gnome/shutdown ... looks like it was meant for adding scripts when Gnome ends.
2010-10-25T09:33:00.000Z	bryhoyt	coraxx	ah, that's interesting, too
2010-10-25T09:33:00.000Z	bryhoyt	coraxx	actually, I'm looking for a way to force it to do a hard shutdown before anything else has a chance to run. It's a boot-into-ram system, and I just want the power button to kill the power immediately.
2010-10-25T09:34:00.000Z	coraxx	bryhoyt	the script you've found ... do you know "when" its activated ? (when the event occurs, if it occurs)
2010-10-25T09:35:00.000Z	bryhoyt	coraxx	I think it's supposed to be called directly from the kernel. The first thing that happens when the power button is pressed. But it doesn't seem to be doing the trick anymore
2010-10-25T09:37:00.000Z	coraxx	bryhoyt	ah ok... thought it would be something like that.  A times go by...the Shutdown process becomes more complicated ... with more fancy interfaces, with Cancel buttons...countdowns etc...much more for a simple script to handle :-)
2010-10-25T09:37:00.000Z	coraxx	bryhoyt	* A = As
2010-10-25T09:38:00.000Z	bryhoyt	coraxx	yes, you're right. So I want to eliminate all the extra guff and get control back again!
2010-10-25T09:38:00.000Z	coraxx	bryhoyt	aaaand good luck with that :-)
2010-10-25T09:39:00.000Z	bryhoyt	coraxx	yeah, that's about how I'm feeling. But it can obviously be done, in theory. Since Ubuntu can call custom scripts/apps, I should be able to somehow too!
2010-10-25T09:40:00.000Z	coraxx	bryhoyt	ah ok. You might have a chance, if you figure out the "event-flow"  ...there has to be some scripts that can be modified/configured to run other scripts, rather than compiled programs. In there you can suppli your desired process.
2010-10-25T09:40:00.000Z	bryhoyt	coraxx	my thoughts exactly
2010-10-25T09:41:00.000Z	coraxx	bryhoyt	first you will have to decide in which part of the process you wish to add something ...can you tell me ?
2010-10-25T09:42:00.000Z	coraxx	bryhoyt	the obvious scripts are in the /etc/rc?.d  directories
2010-10-25T09:44:00.000Z	bryhoyt	coraxx	that's a thought.. except I want to get in before them, because one of the issues here is that I want to shutdown before the ugly messages get printed to the console (which I can't seem to eliminate, not matter how fancy I get with Plymouth etc).
2010-10-25T09:45:00.000Z	bryhoyt	coraxx	also, /etc/rc?.d is deprecated in Ubuntu 10.04, although they're still run. Officially we should now use Upstart config in /etc/init -- but I don't really know how to work Upstart yet.
