2010-05-19T20:14:00.000Z	Unno		Ok... so why does shmat(key,0,0) fail in Ubuntu 10.04 x64 ?
2010-05-19T20:15:00.000Z	archetype	Unno	what does that mean? what is the error? EACCESS? EINVAL? ENOMEM? Did you try to print the error message?
2010-05-19T20:16:00.000Z	archetype		Unno:i would try perror for starters
2010-05-19T20:16:00.000Z	Unno		the error message spells: Success.
2010-05-19T20:16:00.000Z	Unno		the key is valid ...
2010-05-19T20:16:00.000Z	Unno		and there is 666 access to the mem
2010-05-19T20:18:00.000Z	Unno		to be more specific the shmget(key,0,0) .. returns the correct id and with that id and with full permissions in mind shmat fails
2010-05-19T20:20:00.000Z	archetype	Unno	this is too little information for anyone to decipher what is going on
2010-05-19T20:29:00.000Z	Unno		To be more specific, I have an entry in the shared memory table created by my user with perm 666, key=[0x800] and size of 16bytes ... I would like to create a C programm that gets access to that memory. To do that I run in my program shmid=shmget(0x800,0,0); and after that shmat(shmid,0,0); If I print the shmid and compare it to the entry in [ipcs -m] it is correct, but shmat returns (void *) -1, aka Invalid Pointer (fail).
2010-05-19T20:36:00.000Z	archetype	Unno	once again. except the return value shmat like most  of the system calls when they fail they raise an error (the errno value). Use perror to print the error and check what is the errno value that is set
2010-05-19T20:43:00.000Z	Unno	archetype	the error is "Success" and the errno is 0.
2010-05-19T20:47:00.000Z	archetype	Unno	if you could provide an example program cause i am borred to write one so that i can check it in my system maybe i could check it. But normal behavior if the return of shmat is -1 is to set the errno. You will be right that something is wrong IF there is nothing else going on.
2010-05-19T21:04:00.000Z	Unno	archetype	back. Here is an example: http://pastebin.com/e7p7DDfE
2010-05-19T21:10:00.000Z	archetype	Unno	ok. hold on a sec though
2010-05-19T21:45:00.000Z	archetype	Unno	jesus christ i ve been looking at it for half an hour!!! ... have you seen the code? check line 20!!! at the end you have a ; at the if statement
2010-05-19T21:47:00.000Z	archetype		told ya that this is a PEBCAK
2010-05-19T21:47:00.000Z	Unno		archetype thank you... you're a life saver. no i didn't see that. I've been looking for half a day at it. I guess a fresh pair of eyes is welcomed all the time
2010-05-19T21:48:00.000Z	archetype	Unno	welcome. Glad to be of some help :)
2010-05-19T21:49:00.000Z	Unno	archetype	works like a charm. thanks again. G*d d*amn you stupid ' ; ' char
2010-05-19T21:50:00.000Z	archetype	Unno	yeah... very well hidden this tricky little ";". you could never understand why it is going in the error statement
2010-05-19T21:51:00.000Z	Unno	archetype	I should document this new error: "Success" and explain how to achieve it. It should be a blast in the geek community
