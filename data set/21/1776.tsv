2010-05-17T21:13:00.000Z	caravel		how to archive a usb key, contaiing a bootable live distribution with multiple partitions, in order to restore it later as simply as burning an iso file to cd ?
2010-05-17T21:14:00.000Z	attish	caravel	if I understand correctly, you want to create a live CD from a bootable usb drive?
2010-05-17T21:15:00.000Z	attish	caravel	or just archive it, then later boot again from the same key?
2010-05-17T21:15:00.000Z	attish	caravel	yes, you archive the whole device; just check which one is that
2010-05-17T21:16:00.000Z	attish	caravel	one way is do a dmesg after plugging in the device
2010-05-17T21:16:00.000Z	caravel	attish	I have a live usb key created from a linutop -- no iso available, they have a script which downloads and patch directly the usb key
2010-05-17T21:17:00.000Z	attish	caravel	but would you like to boot the image from a CD, or only from the key?
2010-05-17T21:18:00.000Z	caravel	attish	only from the key -- I just want to use my key from something else, and be able to restore LinutopOS to a usb key whenever I need it, and without having a running LinutopOS accessible
2010-05-17T21:19:00.000Z	attish	caravel	that's right. but be extremely careful when restoring! you could overwrite your hard drive if you use the wrong number for X
2010-05-17T21:19:00.000Z	attish	caravel	I did that once :)
2010-05-17T21:19:00.000Z	caravel	attish	I'm used to this stuff, I just didn't know cat could do that
2010-05-17T21:20:00.000Z	attish	caravel	cat does it, but dd may be faster -- haven't tested, though
2010-05-17T21:21:00.000Z	attish	caravel	llutz my guess is that the cat way wouldn't create sparse files, either; know anything about that?
2010-05-17T21:22:00.000Z	attish	caravel	you could try cat /dev/sdX | bzip2 > drive.img
2010-05-17T21:23:00.000Z	caravel	attish	nope, I'd have to zero the unused blocks first, or they'd be copied and compressed too.
2010-05-17T21:24:00.000Z	attish	caravel	an ISO is a byte-to-byte representation of the CD; the same for an USB is what you'd get by doing the cat thing
2010-05-17T21:25:00.000Z	attish	caravel	what bothers you is that you have a 650MB installation on a 8GB key, you don't need a 8GB file
2010-05-17T21:25:00.000Z	attish	caravel	am I correct?
2010-05-17T21:33:00.000Z	caravel	attish	sorry was away -- yes, you are correct. I think I don't quite get what is the structure of a bootable USB key. I would use Clonezilla, but it's a bit heavy for the circumstance (I never installed it locally, I use CloneZilla live), I'd like to know how to do this without rebooting or installing extra software, if possible
2010-05-17T21:35:00.000Z	attish	caravel	I don't know much about the structure of a bootable usb key, but I'd love to; however if you do it like this: 1. erase the key completely, eg. cat /dev/zero > /dev/sdx 2. install 3. archive using cat /dev/sdx | gzip > key.img; this way, gzip will very efficiently compress away all those zeroes to a few bytes
2010-05-17T21:40:00.000Z	caravel	attish	thanks for the advice
