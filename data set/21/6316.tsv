2009-02-04T10:12:00.000Z	linlin		what can be used to fill a raid array with random data for stress testing?
2009-02-04T10:12:00.000Z	linlin		what can be used to fill a raid array with random data quickly for stress testing?
2009-02-04T10:13:00.000Z	ramirand	linlin	First thing that comes to mind is using dd, from /dev/random to the raid block device.
2009-02-04T10:13:00.000Z	ramirand	linlin	don't know if that's optimal, though. Just a guess.
2009-02-04T10:14:00.000Z	linlin	ramirand	how would i go about un-doing that afterwords
2009-02-04T10:14:00.000Z	ramirand	linlin	That's also going to be sequential... that's not "realistic" really.
2009-02-04T10:15:00.000Z	ramirand	linlin	Well, that'd obviously trash anything on the array... so you'd just build a new filesystem on it when you're done.
2009-02-04T10:15:00.000Z	linlin	ramirand	id like to try to create a random "file" on the array, that can simply be deleted when done
2009-02-04T10:16:00.000Z	ramirand	linlin	Sorry, that last was to you.
2009-02-04T10:16:00.000Z	ramirand	linlin	I'm pretty sure dd would be better.
2009-02-04T10:17:00.000Z	ramirand	linlin	something like dd if=/dev/random of=garbage.file
2009-02-04T10:17:00.000Z	ramirand	linlin	amazin's right, I think random will block waiting for more "entropy"
2009-02-04T10:17:00.000Z	ramirand	linlin	urandom doesn't block.
2009-02-04T10:18:00.000Z	linlin	ramirand	sorry what do you mean by doesnt block
2009-02-04T10:19:00.000Z	ramirand	linlin	If you want it to be "fast", then you don't want the source device (/dev/random) to stop sending data while it calculates better random values. You want to take from /dev/urandom instead - it will give "good" random values right away instead of trying to come up with "better" random values.
2009-02-04T10:20:00.000Z	linlin	ramirand	oh ok great, i just kinda figured that out just now by catting /dev/urandom....much more garbage than /dev/random
2009-02-04T10:27:00.000Z	linlin	ramirand	would it be faster to run multiple instances of dd to make more garbage? or is it limited to whatever /dev/urandom can crap out anyways?
2009-02-04T10:28:00.000Z	ramirand	linlin	I'm not 100% sure on that. I doubt it would help to run more than you have cores, at least.
2009-02-04T10:29:00.000Z	linlin	ramirand	yeah it appears no, im running 10 instances it doesnt seem to be filling any faster
2009-02-04T10:30:00.000Z	ramirand	linlin	You might check out the package called "stress" - I haven't tried it for disk stress, but the description says it can do it.
2009-02-04T10:30:00.000Z	ramirand	linlin	I've only used it for CPU and I/O stress.
