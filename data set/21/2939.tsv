2010-02-22T20:42:00.000Z	Lantizia		Hey I like to disable root access (I use sudo instead) on my servers and I normally do it by deleting and locking the passwd on root... but a web interface I need uses root to authenticate it's login so I can't lock or delete the root passwd - but would still like to disable root access on anything but that web interface.  Any ideas?
2010-02-22T20:43:00.000Z	Dr_Willis	Lantizia	 what 'web interface' are you refering to
2010-02-22T20:43:00.000Z	Lantizia	Dr_Willis	proxmox
2010-09-20T16:38:00.000Z	Dr_Willis	Lantizia	 i was looking for some panel cntrolls the other day.. i though i had some ages ago.. but cant seem to find what had them. perhaps teh gnome-look page may have some media controll panel applets
2011-03-28T16:44:00.000Z	Dr_Willis	Lantizia	 check the Enviroment variables  I think  if ran as the  user. theres 2 that will be differnt. then if it was ran by sudo.
2011-03-28T16:44:00.000Z	Lantizia	Dr_Willis	the environment variables just tell me root is running it - which is techncially true... but via sudo
2011-03-28T16:45:00.000Z	Dr_Willis	Lantizia	 if your script wont work properly when used  via sudo.. i would think your script needs fixed.
2011-03-28T16:45:00.000Z	Dr_Willis	Lantizia	 theres other variables I recall   check output of the 'set' command.
2011-03-28T16:47:00.000Z	Lantizia	Dr_Willis	if part of the scripts job is to delete the very user your logged in as (the non-root user) then what do you expect?  it's gotta run as real root!
2011-03-28T16:47:00.000Z	Dr_Willis	Lantizia	 your user is deleting himself? thats rather.. weird.
2011-03-28T16:48:00.000Z	Lantizia	Dr_Willis	not weird if your not logged in as that user
2011-03-28T16:49:00.000Z	Dr_Willis	Lantizia	 you just said you were logged in as  that user..  but all i can suggest is to check the output of the 'set' command. I seem to recall a variable for the user running somthing, then some other one that was differnt if a command was ran via sudo.
2011-03-28T16:50:00.000Z	Lantizia	Dr_Willis	ok how do I check the output of sed when running it via sudo?  (sudo set, and sudo bash set... both don't work)
2011-03-28T16:51:00.000Z	Dr_Willis	Lantizia	 some info about finding if ran as sudo/root at -> http://ubuntuforums.org/showthread.php?t=54289
2011-03-28T16:52:00.000Z	Lantizia	Dr_Willis	that just checks if your root! ggrrrr
2011-03-28T16:55:00.000Z	Dr_Willis	Lantizia	 there seems to be a "SUDO_USER" variable
2011-03-28T17:02:00.000Z	Dr_Willis	Lantizia	 if a user uses sudo. then the sudo env has a variable such as -> SUDO_USER='willis',  i dobnt think a direct root login has that variable set.
2011-03-28T17:02:00.000Z	Lantizia	Dr_Willis	ah cool - will have a check
2011-03-28T17:03:00.000Z	Dr_Willis	Lantizia	 man sudo -> mentions other variables that are set also
2011-03-28T17:04:00.000Z	Dr_Willis	Lantizia	 so it seems teh SUDO_UID and UID and other variables would differ if ran as sudo.   one would not exist if ran as root.
2011-03-28T17:05:00.000Z	Lantizia	Dr_Willis	cool thanks
