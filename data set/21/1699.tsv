2010-06-15T21:22:00.000Z	dotnetted		hey all - My MySQL-Server-5.1 installation is corrupted and I need to fully remove it and reinstall - Every time I try to remove it and install Synaptic hangs and the package installation becomes corrupted so I have to purge/manually remove everything and play around until it lets me install again - The installer hangs every time after failing to set the MySQL root password - any suggestions? thanks
2010-06-15T21:23:00.000Z	sno	dotnetted	try from the command line, it might give more information as to what is going wrong. pastebin would be useful to see
2010-06-15T21:24:00.000Z	dotnetted	sno	right now MySQL seems to be installed properly and can be run with "mysqld_safe --user=mysql &" from the command line - is there a way to get apt-get to understand it's installed properly and stop trying to finish the installation every time I do anything w/ synaptic?
2010-06-15T21:25:00.000Z	sno	dotnetted	apt knows what its doing very well, i would suggest working out why its trying to do things first
2010-06-15T21:26:00.000Z	dotnetted	sno	thanks for the help - I'm going to remove mysql-server-5.1 and all log/conf dirs and start from scratch in the command line to catch the errors
2010-06-15T21:27:00.000Z	sno	dotnetted	tell us what commands you are typing, maybe you are missing a mysql-common package (that holds the configs)
2010-06-15T21:27:00.000Z	dotnetted	sno	what's the best way to fully remove the mysql-server-5.1 package after dpkg failed the last install?
2010-06-15T21:28:00.000Z	sno	dotnetted	show us the pastebin/output of this command to see what is wrong exactly, sudo aptitude update && sudo aptitude reinstall mysql-server-5.1
2010-06-15T21:29:00.000Z	dotnetted	sno	http://pastebin.com/sdVyvBGR (after the update) -- it hangs on the last line
2010-06-15T21:30:00.000Z	sno	dotnetted	is this a fresh mysql install, or do you have existing databases? you can check process usage with "top" or "atop" which won't be installed but may give more i/o info. Is the CPU at 100% while its trying to "set up mysql-server" ?
2010-06-15T21:31:00.000Z	dotnetted	sno	CPU is at 15% - checking for existing databases now
2010-06-15T21:32:00.000Z	dotnetted	sno	/var/lib/mysql is populated with the mysql database only - no previous databases
2010-06-15T21:32:00.000Z	sno	dotnetted	strange, maybe try a aptitude purge mysql-server-5.1 mysql-common but MAKE SURE you have your databases/mysql config is backed up as this will delete configurations
2010-06-15T21:36:00.000Z	dotnetted	sno	I dont care to preserve the old data/configs -- I just ran "aptitude purge mysql-server-5.1 mysql-common" successfully - should I attempt the reinstall now with "sudo aptitude update && sudo aptitude reinstall mysql-server-5.1"?
2010-06-15T21:37:00.000Z	sno	dotnetted	yep sounds good
2010-06-15T21:39:00.000Z	dotnetted	sno	"mysql-server-5.1 is not currently installed, so it will not be reinstalled." - I assume I should just do "aptitude install mysql-server-5.1" right?
2010-06-15T21:39:00.000Z	sno	dotnetted	sorry yes, "install" not "reinstall" correct
2010-06-15T21:41:00.000Z	dotnetted	sno	it seemed to install properly and when prompted I left the root password blank - "mysql -uroot" is giving me permission denied now
2010-06-15T21:42:00.000Z	sno	dotnetted	then it sounds like it worked fine, it reset the password so now you can set one yourself, check the ubuntu documentation on mysql
2010-06-15T21:43:00.000Z	dotnetted	sno	thanks for the help - I don't know how I didn't figure this out earlier ;)
2010-06-15T21:43:00.000Z	sno	dotnetted	your welcome, synaptic is nice but being able to get information from the command line is a life saver ;)
