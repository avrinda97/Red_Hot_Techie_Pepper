2012-04-20T18:52:00.000Z	StR		I have a question about chmod,  is it possible to set some flags with it, so that everytime a file is created in that folder it has write perms for the group... is that possible? is this the right channel to ask?
2012-04-20T18:53:00.000Z	troubled	StR	you mean like a umask perhaps?
2012-04-20T18:53:00.000Z	troubled	StR	or do you mean just for specific dirs/files?
2012-04-20T18:53:00.000Z	StR	troubled	probably but haven't find how
2012-04-20T18:54:00.000Z	troubled	StR	sorry, i missed the second part in this wall-o-text about the write perms for group. you mean like g+ws i think
2012-04-20T18:58:00.000Z	troubled	StR	personally I would suggest looking into umasks if you want newly created files to have certain permissions by default. the default is 0022, but it sounds like you want at least some process to be more like 0002 or something similar
2012-04-20T18:58:00.000Z	StR	troubled	right, but for a specific folder
2012-04-20T18:59:00.000Z	troubled	StR	well, thats the limitation i suppose. unless you had 1 specific process that only wrote to that dir that you could setup a pam setup environment that set the umask for it
2012-04-20T19:00:00.000Z	troubled	StR	otherwise I suppose you could enter the realm of mandatory access controls (MAC) and allow more liberal DAC (discretionary/file permissions) and restrict things via something like apparmour or selinux. but thats getting a little complicated
2012-04-20T19:01:00.000Z	troubled	StR	that, or patch the software in question to specifically do what you need
2012-04-20T19:01:00.000Z	StR	troubled	let me tell you what my problem is, I'm probably stuck in "my" solution.
2012-04-20T19:03:00.000Z	StR	troubled	I have a folder, /var/www with the website to be shown by apache,  the files to that folder is handled by SVN, so when I do svn up, all the files in that folder get in sync with the repository;  but there are times some other files are created by hand in the folder; the issue is that different users can ssh to the server and change the files in that folder
2012-04-20T19:04:00.000Z	StR	troubled	with chmod g+s I was able to set that all the files in that folder are created under the same group, but now I need the files to be writtable by the same group
2012-04-20T19:05:00.000Z	troubled	StR	thats what a umask is good for. for example: cd /tmp ; umask ; touch foo ; umask 0002 ; touch bar ; umask 0022 ; ls -l foo bar
2012-04-20T19:06:00.000Z	StR	troubled	but the user will need to remeber to run umask every time
2012-04-20T19:06:00.000Z	troubled	StR	well, you have numerous ways to setup the environment for users. like /etc/profile or their own home bashrc files etc
2012-04-20T19:06:00.000Z	StR	troubled	the goal is for the user not needing to run anything as the user will forget to do that
2012-04-20T19:07:00.000Z	troubled	StR	for example, I see a umask in /etc/profile here. although yours might be in /etc/profile.d/ somewhere too (i tweak my stock setup, so i can't say for sure). so you could for example add a umask to the profile for the whole system and try that
2012-04-20T19:11:00.000Z	troubled	StR	perhaps something using inotify would be better? http://ubuntuforums.org/showthread.php?t=950939  has some recipies that might allow you to fire off a command to fix permissions
2012-04-20T19:11:00.000Z	StR	troubled	checking, thanks
2012-04-20T19:13:00.000Z	troubled	StR	if your svn server is local on the machine, post commit hooks could also work for you if you changed your workflow to prevent manual file creating in the www dir and force users through svn (probably good idea in general imho)
