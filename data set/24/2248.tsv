2009-03-08T22:04:00.000Z	RoastedTiresX		Question - My one drive was unplugged accidentally when I ran my rsync script. As a result, the rsync'd data got kicked over to my root partition. Where on the root partition is it so I can delete it and get my space back for apps and whatnot?
2009-03-08T22:05:00.000Z	jtaji	RoastedTiresX	it probably went to where the drive was mounted, /media/something perhaps?
2009-03-08T22:05:00.000Z	RoastedTiresX	jtaji	- no, it went to my root partition. I know this for a fact because I watched the disk usage and my root partition grew smaller.
2009-03-08T22:05:00.000Z	jtaji	RoastedTiresX	the mount point is just an empty directory on your root partition, when you mount something there, the mounted disks contents show up
2009-03-08T22:06:00.000Z	jtaji	RoastedTiresX	but if you unmount the disk, you can write to that empty directory
2009-03-08T22:06:00.000Z	RoastedTiresX	jtaji	- I have a drive mounting automatically in fstab. As a test, I unplugged it, booted, and ran my script to see wha thappened when the drive wasn't connected.
2009-03-08T22:06:00.000Z	jtaji	RoastedTiresX	and what mount point did you set in fstab?
2009-03-08T22:06:00.000Z	RoastedTiresX	jtaji	- I watched my disk usage for my root partition (only 20gb) and it was pushing my 175+gb of data to the root partition. So I rebooted quick. But somehow 6 gig got trasnferred and I watn to find it to delete it.
2009-03-08T22:06:00.000Z	RoastedTiresX	jtaji	- /media/localbackup
2009-03-08T22:07:00.000Z	jtaji	RoastedTiresX	so look at /media/localbackup when the drive is NOT mounted
2009-03-08T22:08:00.000Z	RoastedTiresX	jtaji	- bingo. You're the man. I have another question for you if you don't mind...
2009-03-08T22:11:00.000Z	jtaji	RoastedTiresX	sure if I know the answer ;)
2009-03-08T22:11:00.000Z	RoastedTiresX	jtaji	- This sparks a problem in the back of my mind. I have my backup drives for redundancy. They rsync data twice a day via crontab. If a drive goes down and dies at some point, and my rsync script kicks into gear, then it will write data to that folder which will then reside with the root directory and max out the directory. Is there any way to avoid that from happening?
2009-03-08T22:13:00.000Z	jtaji	RoastedTiresX	that's a good question, I suppose in your backup script you can parse /etc/mtab to see if it's mounted
2009-03-08T22:14:00.000Z	jtaji	RoastedTiresX	this is one reason at my business I set up a separate backup machine
2009-03-08T22:14:00.000Z	RoastedTiresX	jtaji	- can you mount drives by UUID via command line and not /dev/sda1? Maybe I could set my script up to mount drives by UUID, and if it fails to mount, maybe it just wont rsync????
2009-03-08T22:15:00.000Z	RoastedTiresX	jtaji	- Yeah, I was planning on doing that. But this isn't a business. It's a home network. And I felt nice enough to give my mom my old computer (whcih was light years faster than her pc at the time) so there went my dedicated backup machine.
2009-03-08T22:15:00.000Z	jtaji	RoastedTiresX	hmm perhaps if you delete the mount point directory, and in your backup script mkdir, then mount, backup, then rmdir
2009-03-08T22:16:00.000Z	RoastedTiresX	jtaji	- Hmm... this is turning out to kind of suck...
2009-03-08T22:16:00.000Z	jtaji	RoastedTiresX	that doesn't really help actually
2009-03-08T22:16:00.000Z	RoastedTiresX	jtaji	- yeah...
2009-03-08T22:16:00.000Z	RoastedTiresX	jtaji	- Isn't there anyway to just command the rsync command to fail if the mount point isnt available?
2009-03-08T22:17:00.000Z	jtaji	RoastedTiresX	that's the problem, programs generally don't know/care if something is mounted to a directory or not, it's just a directory
2009-03-08T22:17:00.000Z	jtaji	RoastedTiresX	yep I think that's your solution, you need to verify it's mounted
